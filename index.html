<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aion Translator</title>
<style>
    * {
        font-family: 'Consolas';
    }
    html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}
    textarea {
        font-family: 'Consolas';
        padding: 5px 5px;
        width: 100%;
        height: 100px;
        border: 1px solid #7f9db9;
        overflow: auto;
        resize: none;
    }
    .wrapper {
        padding-top: 30px;
        width: 100%;
        max-width: 600px;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
    }
    #input {
        display: block;
    }
    #output {
        display: block;
    }
</style>
</head>
<body>
    <div class="wrapper">

        <input type="radio" name="editList" id="asmo" value="asmo" checked/>
        <label for="asmo">I'm Asmo</label>
        
        <input type="radio" name="editList" id="ely" value="ely"/>
        <label for="ely">I'm Ely</label>


        <p>Input:</p>
        <textarea id="input"></textarea>
        <p>Output:</p>
        <textarea id="output" readonly></textarea>
    </div>
<script>
var asmoChar = new Array();
var asmoNextTable = new Array();
var elyoChar = new Array();
var elyoNextTable = new Array();
var transMode = 0; //0=asmo 1=elyos
var once = 1; //for run-once part in init()
var transnumentries = 0;
var maxtransnumentries = 5;

asmoChar[0] = new Array('','j','k','h','i','n','o','l','m','r','s','p','q','v','w','t','u','z','G','b','c','J','a','f','g','d','e');
asmoNextTable[0] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,2,3,2,2,2,2,2);
asmoChar[1] = new Array('','e','f','c','d','i','j','g','h','m','n','k','l','q','r','o','p','u','v','s','t','y','z','a','b','I','J');
asmoNextTable[1] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,3);
asmoChar[2] = new Array('','f','g','d','e','j','k','h','i','n','o','l','m','r','s','p','q','v','w','t','u','z','G','b','c','J','a');
asmoNextTable[2] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,2,3,2);
asmoChar[3] = new Array('','g','h','e','f','k','l','i','j','o','p','m','n','s','t','q','r','w','x','u','v','G','H','c','d','a','b');
asmoNextTable[3] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,2,2,2,2);

elyoChar[0] = new Array('','i','h','k','j','m','l','o','n','q','p','s','r','u','t','w','v','y','x','a','z','c','b','e','d','g','f');
elyoNextTable[0] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,2,2,2,2);
elyoChar[1] = new Array('','d','c','f','e','h','g','j','i','l','k','n','m','p','o','r','q','t','s','v','u','x','w','z','y','b','a');
elyoNextTable[1] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2);
elyoChar[2] = new Array('','e','d','g','f','i','h','k','j','m','l','o','n','q','p','s','r','u','t','w','v','y','x','a','z','c','b');
elyoNextTable[2] = new Array(0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2);

document.getElementById("input").addEventListener("input", translate);

function translate() {
    var tableIndex = 0;
    var input = new String(document.getElementById('input').value);
	var output = new String();

    //slice string if more than 195 long
	if(input.length > 195) {
		input = input.slice(0,195);
		document.getElementById('input').value = input;		
	}
 
    //lower case all
	input = input.toLowerCase();

    for(var i = 0; i < input.length; i++) {
		if(letterIndex(input.charAt(i)) != 0) {
			output = output.concat(asmoChar[tableIndex][letterIndex(input.charAt(i))]);
			tableIndex = asmoNextTable[tableIndex][letterIndex(input.charAt(i))];
		} else {
			output = output.concat(input.charAt(i));
			tableIndex = 0;
		}
	}

    document.getElementById("output").value = output;
}

function letterIndex(letter)
{
	switch(letter)
	{
		case 'a': return 1; break;
		case 'b': return 2; break;
		case 'c': return 3; break;
		case 'd': return 4; break;
		case 'e': return 5; break;
		case 'f': return 6; break;
		case 'g': return 7; break;
		case 'h': return 8; break;
		case 'i': return 9; break;
		case 'j': return 10; break;
		case 'k': return 11; break;
		case 'l': return 12; break;
		case 'm': return 13; break;
		case 'n': return 14; break;
		case 'o': return 15; break;
		case 'p': return 16; break;
		case 'q': return 17; break;
		case 'r': return 18; break;
		case 's': return 19; break;
		case 't': return 20; break;
		case 'u': return 21; break;
		case 'v': return 22; break;
		case 'w': return 23; break;
		case 'x': return 24; break;
		case 'y': return 25; break;
		case 'z': return 26; break;
		default: return  0;
	}
}
</script>
</body>
</html>